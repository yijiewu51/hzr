# 部署上线：让她用手机打开网页就能编辑

## 共享链接 = 同一份数据

- 你或她**第一次**打开部署好的网站（不带 `?k=xxx`）时，点 **「生成共享链接」**，会跳转到一个带唯一参数的网址。
- **把这个新网址发给她**（或你在自己手机上也打开这个网址）。之后**两人用同一个链接**，看到和编辑的就是**同一份重要日期**，换手机、换浏览器只要还用这个链接，数据都在。

要启用「共享链接」的云端存储，部署到 Vercel 后需要**加一步：给项目绑定 KV 存储**（见下方「启用共享（KV）」）。

---

## 方式一：Vercel 网页部署（推荐，不用命令行）

1. **打包当前文件夹**  
   把整个 `hzr` 文件夹压缩成 zip（确保里面有 `index.html`、`styles.css`、`script.js`、`vercel.json`、`api/`、`package.json`）。

2. **打开 Vercel**  
   浏览器打开：**https://vercel.com**  
   用 **GitHub** 或 **邮箱** 注册/登录。

3. **拖拽上传**  
   - 点击 **Add New… → Project**  
   - 选 **Deploy by uploading your project files**（或类似“上传”的选项）  
   - 把刚才的 **zip 文件** 拖进去，或选择 `hzr` 文件夹上传  
   - 点击 **Deploy**，等几十秒。

4. **拿到网址**  
   部署完成后会显示一个链接，例如：  
   `https://hzr-xxxx.vercel.app`  
   先打开这个链接，在页面上点 **「生成共享链接」**，会变成类似：  
   `https://hzr-xxxx.vercel.app?k=abc123xyz`  
   **把这个带 `?k=xxx` 的链接发给她**，两人都用这个链接即可看到、编辑同一份日期。

5. **启用共享（KV）**  
   - 在 Vercel 里打开这个项目 → **Storage** → **Create Database** → 选 **KV**  
   - 创建后会自动绑定到当前项目，再点 **Redeploy** 部署一次  
   - 之后「生成共享链接」后保存、编辑的数据就会存到云端，两人同步。

6. **以后更新**  
   你改完本地文件后，重新压缩、再在 Vercel 里 **Upload** 一次同一个项目（或选 “Redeploy”）即可更新线上版本。

---

## 方式二：用 GitHub + Vercel（适合以后常改）

1. **把项目推到 GitHub**  
   - 在 GitHub 新建一个仓库（例如名字叫 `hzr`）  
   - 在本地 `hzr` 文件夹里执行：
     ```bash
     git init
     git add .
     git commit -m "init"
     git branch -M main
     git remote add origin https://github.com/你的用户名/hzr.git
     git push -u origin main
     ```

2. **在 Vercel 里连 GitHub**  
   - 打开 **https://vercel.com** → **Add New… → Project**  
   - 选 **Import Git Repository**，找到刚创建的 `hzr` 仓库并导入  
   - 直接点 **Deploy**（不用改设置）

3. **拿到网址并生成共享链接**  
   部署后会得到 `https://hzr-xxxx.vercel.app`。打开它，点 **「生成共享链接」**，得到带 `?k=xxx` 的链接，两人都用这个链接即可共享同一份数据。

4. **启用共享（KV）**  
   项目 → **Storage** → **Create Database** → **KV**，创建后 **Redeploy** 一次。

5. **以后更新**  
   本地改完代码后执行：
   ```bash
   git add .
   git commit -m "update"
   git push
   ```
   Vercel 会自动重新部署，链接不变。

---

## 说明

- **共享链接（带 ?k=xxx）**  
  生成并绑定 KV 后，**同一个 k 的链接**下，所有人看到和编辑的都是**同一份数据**。你和她都用你生成的那一个链接即可。

- **没绑定 KV 时**  
  仍可以生成链接，但保存会失败，数据只在你当前浏览器里（localStorage）。绑定 KV 并 Redeploy 后，再打开带 `?k=xxx` 的链接就会同步到云端。

- **链接会变吗？**  
  用方式一每次重新上传，域名可能变；用方式二（GitHub 连接）一般不变。**同一个 ?k= 的链接**只要你不改 k，就一直指向同一份数据。

- **手机能编辑吗？**  
  可以。她用手机浏览器打开你发的**共享链接**，就能和你一起添加、编辑、删除，两边实时共享同一份重要日期。
